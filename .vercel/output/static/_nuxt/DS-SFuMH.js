import{e as f,r as d,c as l,o,a as u,h as y,d as v,t as _,M as k}from"./D6CIXsZs.js";const U={key:0},x=["href"],b={key:1,style:{color:"red"}},B=f({__name:"ImageUploader",setup(m){const t=d(""),a=d(""),r=async c=>{var i;const e=(i=c.target.files)==null?void 0:i[0];if(e)try{const n=(await $fetch("/api/uploadthing-token",{method:"POST",body:{name:e.name,type:e.type,size:e.size}})).data[0],s=new FormData;Object.entries(n.fields).forEach(([h,g])=>{s.append(h,g)}),s.append("file",e),(await fetch(n.url,{method:"POST",body:s})).ok?(t.value=n.fileUrl,a.value=""):a.value="Upload failed"}catch(p){console.error(p),a.value="Upload error"}};return(c,e)=>(o(),l("div",null,[u("input",{type:"file",onChange:r},null,32),t.value?(o(),l("p",U,[e[0]||(e[0]=v("âœ… Uploaded: ")),u("a",{href:t.value,target:"_blank"},_(t.value),9,x)])):a.value?(o(),l("p",b,_(a.value),1)):y("",!0)]))}}),w=f({__name:"index",setup(m){return(t,a)=>{const r=B;return o(),k(r)}}});export{w as default};
